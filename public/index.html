<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Facebook - 로그인 또는 가입</title>

    <!-- style -->
    <link rel="stylesheet" href="./css/login.css">
    <link rel="stylesheet" href="./css/reset.css">
</head>

<body>
    <header id="header">
        <div class="container">
            <div class="row">
                <div class="header">
                    <h1><a href="../html/test.html">facebook</a></h1>
                    <div class="menu_login">
                        <form action="/login" method="post" id="login_form" onsubmit="return validate_login()">
                            <div class="form_left">
                                <h3>이메일</h3>
                                <input type="email" id="email" name="email" class="input_email" placeholder="이메일">
                            </div>
                            <div class="form_center">
                                <h3>비밀번호</h3>
                                <input type="password" id="pw" name="pw" class="input_pw" placeholder="비밀번호">
                            </div>
                            <div class="form_right">
                                <h3>　</h3>
                                <input type="submit" id="submit" name="submit" class="input_submit" value="로그인">
                            </div>
                        </form>
                        <div class="header_signup">
                            <a href="#">가입하기</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- // header-->
    <main>
        <section id="sign_up">
            <div class="container">
                <div class="row">
                    <div class="sign_up">
                        <div class="sign_up_left">
                            <h2>새 계정 만들기</h2>
                            <p class="p1">항상 지금처럼 무료로 즐기실 수 있습니다.</p>
                            <form action="/" method="POST" id="sign_up_form" onsubmit="return validate()">
                                <input type="text" placeholder="성(姓)" id="fname" name="fname" class="input_fname"
                                    autocomplete="off">
                                <input type="text" placeholder="이름(성은 제외)" id="name" name="name" class="input_name"
                                    autocomplete="off">
                                <input type="email" placeholder="이메일" id="email2" name="email2" class="input_email2"
                                    autocomplete="off">
                                <input type="password" placeholder="새 비밀번호" id="new_pw" name="new_pw" class="input_pw">
                                <h3>생일</h3>
                                <select name="year" id="year" aria-placeholder="연도" title="연도">
                                    <option value="0">연도</option>
                                </select>
                                <select name="month" id="month" aria-placeholder="월" title="월">
                                    <option value="0">월</option>
                                </select>
                                <select name="day" id="day" aria-placeholder="일" title="일" class="select_day">
                                    <option value="0">일</option>
                                </select>
                                <span>왜 생년월일을 입력해야 하나요?</span><br>
                                <div class="chk_gender_div">
                                    <input type="radio" name="chk_gender" id="chk_boy" value="남성"><label
                                        for="chk_boy">남성</label>
                                    <input type="radio" name="chk_gender" id="chk_girl" value="여성"><label
                                        for="chk_girl">여성</label>
                                </div>
                                <p class="p2">가입하기 버튼을 클릭하면 Facebook의 <a href="#">약관</a>, <a href="#">데이터 정책</a> 및 <a
                                        href="#">쿠키 정책</a>에 동의하게 됩니다.<br> Facebook으로부터 SMS 알림을 받을 수 있으며 알림은 언제든지 옵트 아웃할
                                    수
                                    있습니다.</p>
                                <button type="submit" id="btn_signup" name="btn_signup" class="btn_submit">가입하기</button>
                            </form>
                        </div>
                        <div class="signup_right">

                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- // sign_up -->
    </main>
    <footer id="footer">
        <div class="container">
            <div class="row">
                <div class="footer">
                    <ul>
                        <li>가입하기</li>
                        <li>로그인</li>
                        <li>Messenger</li>
                        <li>Facebook Lite</li>
                        <li>친구찾기</li>
                        <li>사람</li>
                        <li>프로필</li>
                        <li>페이지</li>
                        <li>페이지 카테고리</li>
                        <li>장소</li>
                        <li>게임</li>
                        <li>위치</li>
                        <li>Marketplace</li>
                        <li>그룹</li>
                        <li>Instagram</li>
                        <li>지역</li>
                        <li>기부 캠페인</li>
                        <li>회사소개</li>
                        <li>광고 만들기</li>
                        <li>페이지 만들기</li>
                        <li>개발자</li>
                        <li>채용 정보</li>
                        <li>개인정보처리방침</li>
                        <li>쿠키</li>
                        <li>이용약관</li>
                        <li>계정 보안</li>
                        <li>로그인 도움말</li>
                        <li>고객센터</li>
                    </ul>
                    <address>
                        Facebook © 2019
                    </address>
                </div>
            </div>
        </div>
    </footer>
    <!-- // footer -->
    <script type="text/javascript">

        // 로그인시 폼 유효성 검사 함수 
        function validate_login() {
            const email = document.getElementById('email');
            const password = document.getElementById('pw'); 

            // 비밀번호 정규식 ( 영문, 숫자, 특수문자 조합, 8~16자리 ) 
            const chk_password = /^(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9])(?=.*[0-9]).{8,16}$/;

            // 빈 항목 검사 
            if(email.value == "") {
                alert("이메일을 입력해 주세요"); 
                email.focus();
                return false;
            }
            if(password.value =="") {
                alert("패스워드를 입력해 주세요"); 
                password.focus();
                return false;
            }

            // 비밀번호 정규식 검사 
            if (chk_password.test(password.value) == false) {
                alert("영문, 숫자, 특수문자를 조합하여 8~16자리를 입력해 주세요.");
                password.focus();
                return false;
            }
        }

        // 회원가입시 폼 유효성 검사 함수 
        function validate() {
            const fname = document.getElementById('fname');
            const lname = document.getElementById('name');
            const email = document.getElementById('email2');
            const password = document.getElementById('new_pw');
            const year = document.getElementById('year');
            const month = document.getElementById('month');
            const day = document.getElementById('day');
            const gender = document.getElementsByName('chk_gender');

            let radio_btn_check = 0; // 버튼 클릭 여부를 확인하기 위한 변수 


            // 이메일 정규식 
            const chk_email = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;
            // 비밀번호 정규식 ( 영문, 숫자, 특수문자 조합, 8~16자리 ) 
            const chk_password = /^(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9])(?=.*[0-9]).{8,16}$/;

            // 빈 항목 검사 
            if (fname.value == "") {
                alert("성을 입력해 주세요");
                fname.focus();
                return false;
            }
            if (lname.value == "") {
                alert("이름을 입력해 주세요");
                lname.focus();
                return false;
            }
            if (email.value == "") {
                alert("이메일을 입력해 주세요");
                email.focus();
                return false;
            }
            if (year.value == 0 || month.value == 0 || day.value == 0) {
                alert("생년월일을 입력해 주세요.");
                return false;
            }
            for (var i = 0; i < gender.length; i++) {
                if (gender[i].checked == true) {
                    radio_btn_check++; // 버튼이 클릭 되었으면 값을 증가시킨다. 
                }
            }
            if (radio_btn_check == 0) {
                alert("성별을 입력해 주세요.");
                return false;
            }


            // 정규식 검사 
            if (chk_email.test(email.value) == false) {
                alert("잘못된 이메일 형식입니다.");
                email.focus();
                return false;
            }
            if (chk_password.test(password.value) == false) {
                alert("영문, 숫자, 특수문자를 조합하여 8~16자리를 입력해 주세요.");
                password.focus();
                return false;
            }
        }

        // 년도 select box 에 option 추가 함수 
        function appendYear() {
            let date = new Date();
            let year = date.getFullYear();
            const selectValue = document.getElementById("year");
            let optionIndex = 0;

            for (let i = year - 90; i <= year; i++) {
                selectValue.add(new Option(i + "년", i), optionIndex++);
            }
        }

        // 월 select box 에 option 추가 함수 
        function appendMonth() {
            var selectValue = document.getElementById("month");
            var optionIndex = 0;

            for (var i = 1; i <= 12; i++) {
                selectValue.add(new Option(i + "월", i), optionIndex++);
            }
        }

        // 일 select box 에 option 추가 함수 
        function appendday() {
            var selectValue = document.getElementById("day");
            var month = document.getElementById("month");
            var optionIndex = 0;

            for (var i = 1; i <= 31; i++) {
                selectValue.add(new Option(i + "일", i), optionIndex++);
            }
        }

        appendYear();
        appendMonth();
        appendday();
    </script>
</body>

</html>